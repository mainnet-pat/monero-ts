"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;
var _TestUtils = _interopRequireDefault(require("./utils/TestUtils"));
var _WalletEqualityUtils = _interopRequireDefault(require("./utils/WalletEqualityUtils"));
var _TestMoneroWalletCommon = _interopRequireDefault(require("./TestMoneroWalletCommon"));
var _index = require("../../index");

/**
 * Tests the implementation of MoneroWallet which only manages keys using WebAssembly.
 */
class TestMoneroWalletKeys extends _TestMoneroWalletCommon.default {

  constructor(config) {
    super(config);
  }

  async beforeAll() {
    await super.beforeAll();
  }

  async beforeEach(currentTest) {
    await super.beforeEach(currentTest);
  }

  async afterAll() {
    console.log("After all");
    await this.wallet.close();
  }

  async afterEach(currentTest) {
    await super.afterEach(currentTest);
  }

  async getTestWallet() {
    return _TestUtils.default.getWalletKeys();
  }

  async getTestDaemon() {
    return await _TestUtils.default.getDaemonRpc();
  }

  async openWallet(config) {
    throw new Error("TestMoneroWalletKeys.openWallet(config) not applicable, use createWallet()");
  }

  async createWallet(config) {

    // assign defaults
    config = new _index.MoneroWalletConfig(config);
    if (!config.getPassword()) config.setPassword(_TestUtils.default.WALLET_PASSWORD);
    if (config.getNetworkType() === undefined) config.setNetworkType(_TestUtils.default.NETWORK_TYPE);
    if (config.getServer()) throw new Error("Cannot initialize keys wallet with connection");

    // create wallet
    return await (0, _index.createWalletKeys)(config);
  }

  async closeWallet(wallet, save) {
    await wallet.close(save);
  }

  async getSeedLanguages() {
    return await _index.MoneroWalletKeys.getSeedLanguages();
  }

  runTests() {
    let that = this;
    describe("TEST MONERO WALLET KEYS", function () {

      // register handlers to run before and after tests
      before(async function () {await that.beforeAll();});
      beforeEach(async function () {await that.beforeEach(this.currentTest);});
      after(async function () {await that.afterAll();});
      afterEach(async function () {await that.afterEach(this.currentTest);});

      // run tests specific to keys wallet
      that.testWalletKeys();

      // run common tests
      that.runCommonTests();
    });
  }

  // ---------------------------------- PRIVATE -------------------------------

  testWalletKeys() {
    let that = this;
    let config = this.testConfig;
    let daemon = this.daemon;

    describe("Tests specific to keys wallet", function () {

      it("Has the same keys as the RPC wallet", async function () {
        await _WalletEqualityUtils.default.testWalletEqualityKeys(await _TestUtils.default.getWalletRpc(), await that.getTestWallet());
      });

      it("Has the same keys as the RPC wallet with a seed offset", async function () {

        // use common offset to compare wallet implementations
        let seedOffset = "my super secret offset!";

        // create rpc wallet with offset
        let walletRpc = await _TestUtils.default.getWalletRpc();
        await walletRpc.createWallet({ path: _index.GenUtils.getUUID(), password: _TestUtils.default.WALLET_PASSWORD, seed: await walletRpc.getSeed(), restoreHeight: _TestUtils.default.FIRST_RECEIVE_HEIGHT, seedOffset: seedOffset });

        // create keys-only wallet with offset
        let walletKeys = await (0, _index.createWalletKeys)({
          networkType: _TestUtils.default.NETWORK_TYPE,
          seed: _TestUtils.default.SEED,
          seedOffset: seedOffset
        });

        // deep compare
        await _WalletEqualityUtils.default.testWalletEqualityKeys(walletRpc, walletKeys);
      });

      it("Can get the address of a specified account and subaddress index", async function () {
        for (let accountIdx = 0; accountIdx < 5; accountIdx++) {
          for (let subaddressIdx = 0; subaddressIdx < 5; subaddressIdx++) {
            await _index.MoneroUtils.validateAddress(await that.wallet.getAddress(accountIdx, subaddressIdx), _TestUtils.default.NETWORK_TYPE);
          }
        }
      });
    });
  }
}exports.default = TestMoneroWalletKeys;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVGVzdFV0aWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfV2FsbGV0RXF1YWxpdHlVdGlscyIsIl9UZXN0TW9uZXJvV2FsbGV0Q29tbW9uIiwiX2luZGV4IiwiVGVzdE1vbmVyb1dhbGxldEtleXMiLCJUZXN0TW9uZXJvV2FsbGV0Q29tbW9uIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJiZWZvcmVBbGwiLCJiZWZvcmVFYWNoIiwiY3VycmVudFRlc3QiLCJhZnRlckFsbCIsImNvbnNvbGUiLCJsb2ciLCJ3YWxsZXQiLCJjbG9zZSIsImFmdGVyRWFjaCIsImdldFRlc3RXYWxsZXQiLCJUZXN0VXRpbHMiLCJnZXRXYWxsZXRLZXlzIiwiZ2V0VGVzdERhZW1vbiIsImdldERhZW1vblJwYyIsIm9wZW5XYWxsZXQiLCJFcnJvciIsImNyZWF0ZVdhbGxldCIsIk1vbmVyb1dhbGxldENvbmZpZyIsImdldFBhc3N3b3JkIiwic2V0UGFzc3dvcmQiLCJXQUxMRVRfUEFTU1dPUkQiLCJnZXROZXR3b3JrVHlwZSIsInVuZGVmaW5lZCIsInNldE5ldHdvcmtUeXBlIiwiTkVUV09SS19UWVBFIiwiZ2V0U2VydmVyIiwiY3JlYXRlV2FsbGV0S2V5cyIsImNsb3NlV2FsbGV0Iiwic2F2ZSIsImdldFNlZWRMYW5ndWFnZXMiLCJNb25lcm9XYWxsZXRLZXlzIiwicnVuVGVzdHMiLCJ0aGF0IiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJhZnRlciIsInRlc3RXYWxsZXRLZXlzIiwicnVuQ29tbW9uVGVzdHMiLCJ0ZXN0Q29uZmlnIiwiZGFlbW9uIiwiaXQiLCJXYWxsZXRFcXVhbGl0eVV0aWxzIiwidGVzdFdhbGxldEVxdWFsaXR5S2V5cyIsImdldFdhbGxldFJwYyIsInNlZWRPZmZzZXQiLCJ3YWxsZXRScGMiLCJwYXRoIiwiR2VuVXRpbHMiLCJnZXRVVUlEIiwicGFzc3dvcmQiLCJzZWVkIiwiZ2V0U2VlZCIsInJlc3RvcmVIZWlnaHQiLCJGSVJTVF9SRUNFSVZFX0hFSUdIVCIsIndhbGxldEtleXMiLCJuZXR3b3JrVHlwZSIsIlNFRUQiLCJhY2NvdW50SWR4Iiwic3ViYWRkcmVzc0lkeCIsIk1vbmVyb1V0aWxzIiwidmFsaWRhdGVBZGRyZXNzIiwiZ2V0QWRkcmVzcyIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Rlc3QvVGVzdE1vbmVyb1dhbGxldEtleXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFzc2VydCBmcm9tIFwiYXNzZXJ0XCI7XG5pbXBvcnQgVGVzdFV0aWxzIGZyb20gXCIuL3V0aWxzL1Rlc3RVdGlsc1wiO1xuaW1wb3J0IFdhbGxldEVxdWFsaXR5VXRpbHMgZnJvbSBcIi4vdXRpbHMvV2FsbGV0RXF1YWxpdHlVdGlsc1wiO1xuaW1wb3J0IFRlc3RNb25lcm9XYWxsZXRDb21tb24gZnJvbSBcIi4vVGVzdE1vbmVyb1dhbGxldENvbW1vblwiO1xuaW1wb3J0IHtjcmVhdGVXYWxsZXRLZXlzLCBNb25lcm9XYWxsZXRDb25maWcsIE1vbmVyb1dhbGxldEtleXMsIEdlblV0aWxzLCBNb25lcm9VdGlsc30gZnJvbSBcIi4uLy4uL2luZGV4XCI7XG5cbi8qKlxuICogVGVzdHMgdGhlIGltcGxlbWVudGF0aW9uIG9mIE1vbmVyb1dhbGxldCB3aGljaCBvbmx5IG1hbmFnZXMga2V5cyB1c2luZyBXZWJBc3NlbWJseS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVzdE1vbmVyb1dhbGxldEtleXMgZXh0ZW5kcyBUZXN0TW9uZXJvV2FsbGV0Q29tbW9uIHtcbiAgXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZyk7XG4gIH1cbiAgXG4gIGFzeW5jIGJlZm9yZUFsbCgpIHtcbiAgICBhd2FpdCBzdXBlci5iZWZvcmVBbGwoKTtcbiAgfVxuICBcbiAgYXN5bmMgYmVmb3JlRWFjaChjdXJyZW50VGVzdCkge1xuICAgIGF3YWl0IHN1cGVyLmJlZm9yZUVhY2goY3VycmVudFRlc3QpO1xuICB9XG4gIFxuICBhc3luYyBhZnRlckFsbCgpIHtcbiAgICBjb25zb2xlLmxvZyhcIkFmdGVyIGFsbFwiKTtcbiAgICBhd2FpdCB0aGlzLndhbGxldC5jbG9zZSgpO1xuICB9XG4gIFxuICBhc3luYyBhZnRlckVhY2goY3VycmVudFRlc3QpIHtcbiAgICBhd2FpdCBzdXBlci5hZnRlckVhY2goY3VycmVudFRlc3QpO1xuICB9XG4gIFxuICBhc3luYyBnZXRUZXN0V2FsbGV0KCkge1xuICAgIHJldHVybiBUZXN0VXRpbHMuZ2V0V2FsbGV0S2V5cygpO1xuICB9XG4gIFxuICBhc3luYyBnZXRUZXN0RGFlbW9uKCkge1xuICAgIHJldHVybiBhd2FpdCBUZXN0VXRpbHMuZ2V0RGFlbW9uUnBjKCk7XG4gIH1cbiAgXG4gIGFzeW5jIG9wZW5XYWxsZXQoY29uZmlnPyk6IFByb21pc2U8TW9uZXJvV2FsbGV0S2V5cz4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRlc3RNb25lcm9XYWxsZXRLZXlzLm9wZW5XYWxsZXQoY29uZmlnKSBub3QgYXBwbGljYWJsZSwgdXNlIGNyZWF0ZVdhbGxldCgpXCIpO1xuICB9XG4gIFxuICBhc3luYyBjcmVhdGVXYWxsZXQoY29uZmlnKSB7XG4gICAgXG4gICAgLy8gYXNzaWduIGRlZmF1bHRzXG4gICAgY29uZmlnID0gbmV3IE1vbmVyb1dhbGxldENvbmZpZyhjb25maWcpO1xuICAgIGlmICghY29uZmlnLmdldFBhc3N3b3JkKCkpIGNvbmZpZy5zZXRQYXNzd29yZChUZXN0VXRpbHMuV0FMTEVUX1BBU1NXT1JEKTtcbiAgICBpZiAoY29uZmlnLmdldE5ldHdvcmtUeXBlKCkgPT09IHVuZGVmaW5lZCkgY29uZmlnLnNldE5ldHdvcmtUeXBlKFRlc3RVdGlscy5ORVRXT1JLX1RZUEUpO1xuICAgIGlmIChjb25maWcuZ2V0U2VydmVyKCkpIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbml0aWFsaXplIGtleXMgd2FsbGV0IHdpdGggY29ubmVjdGlvblwiKTtcbiAgICBcbiAgICAvLyBjcmVhdGUgd2FsbGV0XG4gICAgcmV0dXJuIGF3YWl0IGNyZWF0ZVdhbGxldEtleXMoY29uZmlnKTtcbiAgfVxuICBcbiAgYXN5bmMgY2xvc2VXYWxsZXQod2FsbGV0LCBzYXZlKSB7XG4gICAgYXdhaXQgd2FsbGV0LmNsb3NlKHNhdmUpO1xuICB9XG5cbiAgYXN5bmMgZ2V0U2VlZExhbmd1YWdlcygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgcmV0dXJuIGF3YWl0IE1vbmVyb1dhbGxldEtleXMuZ2V0U2VlZExhbmd1YWdlcygpO1xuICB9XG4gIFxuICBydW5UZXN0cygpIHtcbiAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgZGVzY3JpYmUoXCJURVNUIE1PTkVSTyBXQUxMRVQgS0VZU1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIFxuICAgICAgLy8gcmVnaXN0ZXIgaGFuZGxlcnMgdG8gcnVuIGJlZm9yZSBhbmQgYWZ0ZXIgdGVzdHNcbiAgICAgIGJlZm9yZShhc3luYyBmdW5jdGlvbigpIHsgYXdhaXQgdGhhdC5iZWZvcmVBbGwoKTsgfSk7XG4gICAgICBiZWZvcmVFYWNoKGFzeW5jIGZ1bmN0aW9uKCkgeyBhd2FpdCB0aGF0LmJlZm9yZUVhY2godGhpcy5jdXJyZW50VGVzdCk7IH0pO1xuICAgICAgYWZ0ZXIoYXN5bmMgZnVuY3Rpb24oKSB7IGF3YWl0IHRoYXQuYWZ0ZXJBbGwoKTsgfSk7XG4gICAgICBhZnRlckVhY2goYXN5bmMgZnVuY3Rpb24oKSB7IGF3YWl0IHRoYXQuYWZ0ZXJFYWNoKHRoaXMuY3VycmVudFRlc3QpOyB9KTtcbiAgICAgIFxuICAgICAgLy8gcnVuIHRlc3RzIHNwZWNpZmljIHRvIGtleXMgd2FsbGV0XG4gICAgICB0aGF0LnRlc3RXYWxsZXRLZXlzKCk7XG4gICAgICBcbiAgICAgIC8vIHJ1biBjb21tb24gdGVzdHNcbiAgICAgIHRoYXQucnVuQ29tbW9uVGVzdHMoKTtcbiAgICB9KTtcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQUklWQVRFIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gIHByb3RlY3RlZCB0ZXN0V2FsbGV0S2V5cygpIHtcbiAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgbGV0IGNvbmZpZyA9IHRoaXMudGVzdENvbmZpZztcbiAgICBsZXQgZGFlbW9uID0gdGhpcy5kYWVtb247XG4gICAgXG4gICAgZGVzY3JpYmUoXCJUZXN0cyBzcGVjaWZpYyB0byBrZXlzIHdhbGxldFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIFxuICAgICAgaXQoXCJIYXMgdGhlIHNhbWUga2V5cyBhcyB0aGUgUlBDIHdhbGxldFwiLCBhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgICAgYXdhaXQgV2FsbGV0RXF1YWxpdHlVdGlscy50ZXN0V2FsbGV0RXF1YWxpdHlLZXlzKGF3YWl0IFRlc3RVdGlscy5nZXRXYWxsZXRScGMoKSwgYXdhaXQgdGhhdC5nZXRUZXN0V2FsbGV0KCkpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGl0KFwiSGFzIHRoZSBzYW1lIGtleXMgYXMgdGhlIFJQQyB3YWxsZXQgd2l0aCBhIHNlZWQgb2Zmc2V0XCIsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgICBcbiAgICAgICAgLy8gdXNlIGNvbW1vbiBvZmZzZXQgdG8gY29tcGFyZSB3YWxsZXQgaW1wbGVtZW50YXRpb25zXG4gICAgICAgIGxldCBzZWVkT2Zmc2V0ID0gXCJteSBzdXBlciBzZWNyZXQgb2Zmc2V0IVwiO1xuICAgICAgICBcbiAgICAgICAgLy8gY3JlYXRlIHJwYyB3YWxsZXQgd2l0aCBvZmZzZXRcbiAgICAgICAgbGV0IHdhbGxldFJwYyA9IGF3YWl0IFRlc3RVdGlscy5nZXRXYWxsZXRScGMoKTtcbiAgICAgICAgYXdhaXQgd2FsbGV0UnBjLmNyZWF0ZVdhbGxldCh7cGF0aDogR2VuVXRpbHMuZ2V0VVVJRCgpLCBwYXNzd29yZDogVGVzdFV0aWxzLldBTExFVF9QQVNTV09SRCwgc2VlZDogYXdhaXQgd2FsbGV0UnBjLmdldFNlZWQoKSwgcmVzdG9yZUhlaWdodDogVGVzdFV0aWxzLkZJUlNUX1JFQ0VJVkVfSEVJR0hULCBzZWVkT2Zmc2V0OiBzZWVkT2Zmc2V0fSk7XG4gICAgICAgIFxuICAgICAgICAvLyBjcmVhdGUga2V5cy1vbmx5IHdhbGxldCB3aXRoIG9mZnNldFxuICAgICAgICBsZXQgd2FsbGV0S2V5cyA9IGF3YWl0IGNyZWF0ZVdhbGxldEtleXMoe1xuICAgICAgICAgICAgbmV0d29ya1R5cGU6IFRlc3RVdGlscy5ORVRXT1JLX1RZUEUsXG4gICAgICAgICAgICBzZWVkOiBUZXN0VXRpbHMuU0VFRCxcbiAgICAgICAgICAgIHNlZWRPZmZzZXQ6IHNlZWRPZmZzZXRcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBkZWVwIGNvbXBhcmVcbiAgICAgICAgYXdhaXQgV2FsbGV0RXF1YWxpdHlVdGlscy50ZXN0V2FsbGV0RXF1YWxpdHlLZXlzKHdhbGxldFJwYywgd2FsbGV0S2V5cyk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaXQoXCJDYW4gZ2V0IHRoZSBhZGRyZXNzIG9mIGEgc3BlY2lmaWVkIGFjY291bnQgYW5kIHN1YmFkZHJlc3MgaW5kZXhcIiwgYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAobGV0IGFjY291bnRJZHg9IDA7IGFjY291bnRJZHggPCA1OyBhY2NvdW50SWR4KyspIHtcbiAgICAgICAgICBmb3IgKGxldCBzdWJhZGRyZXNzSWR4ID0gMDsgc3ViYWRkcmVzc0lkeCA8IDU7IHN1YmFkZHJlc3NJZHgrKykge1xuICAgICAgICAgICAgYXdhaXQgTW9uZXJvVXRpbHMudmFsaWRhdGVBZGRyZXNzKGF3YWl0IHRoYXQud2FsbGV0LmdldEFkZHJlc3MoYWNjb3VudElkeCwgc3ViYWRkcmVzc0lkeCksIFRlc3RVdGlscy5ORVRXT1JLX1RZUEUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1c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